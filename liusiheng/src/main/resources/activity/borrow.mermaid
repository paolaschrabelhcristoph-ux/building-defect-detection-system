flowchart TD
    A[用户进入借书页面] --> B[选择借阅者]
    B --> C[选择图书]
    C --> D[输入借阅天数]
    D --> E[点击借书按钮]
    E --> F[验证用户是否存在]
    F --> G{用户存在?}
    G -->|否| H[显示错误: 用户不存在]
    G -->|是| I[验证图书是否存在]
    I --> J{图书存在?}
    J -->|否| K[显示错误: 图书不存在]
    J -->|是| L[检查图书库存]
    L --> M{图书有库存?}
    M -->|否| N[显示错误: 图书库存不足]
    M -->|是| O[创建借阅记录]
    O --> P[更新图书可用数量]
    P --> Q[保存借阅记录到数据库]
    Q --> R[显示借书成功信息]
    H --> S[结束]
    K --> S
    N --> S
    R --> S